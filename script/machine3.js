let obj = {
    first: ['Высота силовой рамы и опций для верхней и нижней тяги от 210 до 240 см, на ваш выбор', 'img/ПК/Силовые рамы/Силовые рамы 2.png'],
    second: ['Горячекатанный профиль с толщиной стенки 2 или 3 мм, на ваш выбор – рамы тренажеров выдерживают заявленную производителем нагрузку до 450 кг',
        'img/ПК/Силовые рамы/Силовые рамы 3.png'],
    third: ['Полимерно-порошковое покрытие рам с возможностью персонализации цвета – цвет рамы тренажера можно выбрать',
        'img/ПК/Силовые рамы/Силовые рамы.png'],
    forth: [`Дооснащение силовой рамы различными опциями  
       <div> 
        <p>– верхняя и нижняя тяга</p>
        <p>– машина Смита </p>
        <p>– брусья </p>
        <p>– тяга Т-грифа </p>
        <p>– дополнительные подвесы для хранения дисков </p>
        <p>– дополнительные кронштейны и страхователи для штанги</p>
        <p> – стакан для хранения грифа на раме </p>
        </div>`,
        'img/ПК/Силовые рамы/Силовые рамы.png'],
    fifth: [`Дооснащение силовой рамы различными опциями  
       <div> 
        <p>– верхняя и нижняя тяга</p>
        <p>– машина Смита </p>
        <p>– брусья </p>
        <p>– тяга Т-грифа </p>
        <p>– дополнительные подвесы для хранения дисков </p>
        <p>– дополнительные кронштейны и страхователи для штанги</p>
        <p> – стакан для хранения грифа на раме </p>
        </div>`,
        'img/ПК/Силовые рамы/Силовые рамы.png'],
    sixth: ['Все сварные соединения выполнены «вкруг» - гарантия на раму тренажера – 10 лет',
        'img/ПК/Силовые рамы/Силовые рамы.png'],
    seventh: ['Промокод на скидку – ПРОМОКОД',
        'img/ПК/Силовые рамы/Силовые рамы.png'],
    eight: ['Страхователи и кронштейны для штанги с быстрой и легкой фиксацией на любой высоте. В местах контакта страхователей и кронштейнов с грифом установлены накладки из нержавеющей стали',
        'img/ПК/Силовые рамы/Силовые рамы 4.png'],
    nineth: ['Страхователи и кронштейны для штанги с быстрой и легкой фиксацией на любой высоте. В местах контакта страхователей и кронштейнов с грифом установлены накладки из нержавеющей стали',
        'img/ПК/Силовые рамы/Силовые рамы 5.png'],
    ten: ['Адаптеры для хранения дисков в комплекте с силовой рамой (можно приобрести дополнительные комплекты адаптеров для хранения)',
        'img/ПК/Силовые рамы/Силовые рамы 6.png'],
    eleven: [`Хромированные направляющие на опций
        <div>    
            <p>– машина Смита</p>
            <p>– верхняя и нижняя тяга на грузоблоке </p>
        </div>
        `,
        'img/ПК/Силовые рамы/Силовые рамы 7.png'],
    tuelve: ['Стальные плиты грузоблока весом 5 кг, с полиамидными втулками для плавного и бесшумного скольжения',
        'img/ПК/Силовые рамы/Силовые рамы 8.png'],
    threeteen: ['Специальный трос для тренажеров с допустимой нагрузкой на разрыв 1000 кг и полиамидные ролики 100 мм на подшипниках',
        'img/ПК/Силовые рамы/Силовые рамы 9.png'],
    forteen: ['Все узлы вращения и качения на закрытых подшипниках российского производства',
        'img/ПК/Силовые рамы/Силовые рамы 10.png'],
    fifteen: ['Чехлы из качественного заменителя кожи российского производства – цвет мягких элементов можно выбрать ',
        'img/ПК/Силовые рамы/Силовые рамы 11.png'],
    sixteen: ['К опциям для верхней и нижней тяги рукоятки поставляются в комплекте',
        'img/ПК/Силовые рамы/Силовые рамы 12.png'],
    seventeen: ['Упоры для ног, для комфортного выполнения верхней и нижней тяги',
        'img/ПК/Силовые рамы/Силовые рамы 13.png'],
    eighteen: ['Силовые рамы произведены и сертифицированы по ГОСТ-Р',
        'img/ПК/Силовые рамы/Силовые рамы.png'],
};

let resultObj = { ...obj };

let forVectors = {
    desktop: ['img/vector1/Vector1.png', 'img/vector1/Vector2.png', 'img/vector1/Vector3.png', 'img/vector1/Vector4.png', 'img/vector1/Vector5.png', 'img/vector1/Vector6.png', 'img/vector1/Vector7.png', 'img/vector1/Vector8.png', 'img/vector1/Vector9.png', 'img/vector1/Vector10.png', 'img/vector1/Vector11.png', 'img/vector1/Vector12.png'],
    laptop: ['img/vector1/Vector01.png', 'img/vector1/Vector02.png', 'img/vector1/Vector03.png', 'img/vector1/Vector04.png', 'img/vector1/Vector05.png', 'img/vector1/Vector06.png', 'img/vector1/Vector07.png', 'img/vector1/Vector08.png', 'img/vector1/Vector09.png', 'img/vector1/Vector010.png', 'img/vector1/Vector011.png', 'img/vector1/Vector012.png'],
    mobile: ['img/vector1/Vector001.png', 'img/vector1/Vector002.png', 'img/vector1/Vector003.png', 'img/vector1/Vector004.png', 'img/vector1/Vector005.png', 'img/vector1/Vector006.png', 'img/vector1/Vector007.png', 'img/vector1/Vector008.png', 'img/vector1/Vector009.png', 'img/vector1/Vector0010.png', 'img/vector1/Vector0011.png', 'img/vector1/Vector0012.png']
};

let forGymDesktopPictures = {
    desktop: [
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе 2.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе 3.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе 4.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе 5.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе 6.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе 7.png',
        'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png'],

    laptop: [
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры-1.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры-2.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры-3.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры-4.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры-5.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры-6.png',
        'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png'],

    mobile: [
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры-1.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры-2.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры-3.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры-4.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры-5.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры-6.png',
        'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png'
    ],
};

let objKeys = Object.keys(obj);

let marker = document.querySelectorAll('.marker-item');
let mainLInfo = document.querySelector('.main_left-info');
let mainLInfoText = document.querySelector('.main_left-info > span');
let info = document.querySelector('.info_block');
let infoText = document.querySelector('.info_block > p');
let gymPicture = document.querySelector('.gym_picture > img');
let line = document.querySelectorAll('.line');
let vectors = document.querySelectorAll('.line > img');

function forPicturesChange() {
    if (window.innerWidth <= 1200) {
        mainLInfoText.textContent = 'Кликните на маркер на изображении для показа описания';
        vectors.forEach((el, ind) => (el.src = forVectors.mobile[ind]));
        objKeys.forEach((key, ind) => (resultObj[key][1] = forGymDesktopPictures.mobile[ind]));
        gymPicture.src = 'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png';
    } else if (window.innerWidth <= 1400) {
        mainLInfoText.textContent = 'Наведите курсор на маркер на изображении для показа описания';
        vectors.forEach((el, ind) => (el.src = forVectors.laptop[ind]));
        objKeys.forEach((key, ind) => (resultObj[key][1] = forGymDesktopPictures.laptop[ind]));
        gymPicture.src = 'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png';
    } else {
        mainLInfoText.textContent = 'Наведите курсор на маркер на изображении для показа описания';
        vectors.forEach((el, ind) => (el.src = forVectors.desktop[ind]));
        objKeys.forEach((key, ind) => (resultObj[key][1] = forGymDesktopPictures.desktop[ind]));
        gymPicture.src = 'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png';
    }
}

function forActivate(element, ind) {
    element.classList.add('marker-animation_active');
    mainLInfo.classList.add('hidden');
    if (element !== marker[marker.length - 1]) {
        line[ind].classList.add('line_active_right');
        if (objKeys[ind]) {
            info.classList.add('info_block_active');
            infoText.innerHTML = resultObj[objKeys[ind]][0];

            if (resultObj[objKeys[ind]][1]) {
                gymPicture.src = resultObj[objKeys[ind]][1];
            }
        }
    }
}

function forDisactive(element, ind) {
    element.classList.remove('marker-animation_active');
    line[ind]?.classList.remove('line_active_right');
    info.classList.remove('info_block_active');
    mainLInfo.classList.remove('hidden');
    if (window.innerWidth <= 1200) {
        gymPicture.src = 'img/Мобильная версия/Тренажеры на свободном весе/Грузоблочные тренажеры.png';
    } else if (window.innerWidth <= 1400) {
        gymPicture.src = 'img/Планшет/Тренажеры на свободном весе/Грузоблочные тренажеры.png';
    } else {
        gymPicture.src = 'img/ПК/Тренажеры на свободном весе/Тренажеры на свободном весе.png';
    }
}
function mainFunc() {
    const isMobileView = window.innerWidth < 1200;

    document.removeEventListener('click', handleClick);

    if (isMobileView) {
        document.addEventListener('click', handleClick);

        marker.forEach((el, ind) => {
            el.onmouseenter = null;
            el.onmouseleave = null;
        });
    } else {
        marker.forEach((el, ind) => {
            el.onmouseenter = () => forActivate(el, ind);
            el.onmouseleave = () => forDisactive(el, ind);
            el.onclick = null;
        });
    }
}

function handleClick(e) {
    if (e.target.classList.contains('marker-item')) {
        marker.forEach((markerEl, markerInd) => {
            if (markerEl !== e.target) {
                forDisactive(markerEl, markerInd);
            }
        });

        if (!e.target.classList.contains('marker-animation_active')) {
            const ind = Array.from(marker).indexOf(e.target);
            forActivate(e.target, ind);
        } else {
            const ind = Array.from(marker).indexOf(e.target);
            forDisactive(e.target, ind);
        }
    } else {
        marker.forEach((markerEl, markerInd) => {
            if (markerEl !== e.target) {
                forDisactive(markerEl, markerInd);
            }
        });
    }
}


window.addEventListener('resize', () => {
    forPicturesChange();
    mainFunc();
});

window.addEventListener('load', () => {
    forPicturesChange();
    mainFunc();
});
